# 기술 스택 선정 이유 v1.0

**작성일**: 2025-01-XX
**결정자**: sungmoon2
**상태**: 확정 및 적용됨

---

## ⚠️ 중요 공지

**이 문서는 왜 이 기술을 선택했는지 기록합니다.**

- 각 기술별 대안 검토
- 선택 근거 명시
- 버전 명시 (재현 가능성)

---

## 1. 프론트엔드

### 1.1 React 19.1.1

**선택 이유**:

| 기준 | React | Vue | Angular | Svelte |
|------|-------|-----|---------|--------|
| 학습 곡선 | 중간 | 낮음 | 높음 | 낮음 |
| 생태계 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| 타입스크립트 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 채용 시장 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |

**근거**:
1. 생태계 최대: 라이브러리 풍부 (TanStack Query, React Hook Form 등)
2. Supabase 공식 지원: 예제 대부분 React
3. 최신 버전 (19): Actions, useOptimistic 등 신기능
4. 경력 활용: React 경험 축적

**버전 선택**:
- React 19.1.1 (2025년 1월 최신 stable)
- React 18도 안정적이나, 19의 성능 개선 활용

---

### 1.2 TypeScript 5.9.3

**선택 이유**:

| 기준 | TypeScript | JavaScript |
|------|-----------|-----------|
| 타입 안정성 | ✅ | ❌ |
| IDE 지원 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 리팩토링 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| 학습 곡선 | 중간 | 낮음 |

**근거**:
1. 런타임 에러 방지: 타입 체크로 버그 조기 발견
2. Supabase 타입 자동 생성: `supabase gen types typescript`
3. 코드 품질: any 금지 (strict mode)
4. 장기 유지보수: 코드 의도 명확

**설정**:
```json
{
  "compilerOptions": {
    "strict": true,
    "target": "ES2020",
    "module": "ESNext"
  }
}
```

---

### 1.3 Vite 7.1.7

**선택 이유**:

| 기준 | Vite | Create React App | Next.js |
|------|------|-----------------|---------|
| 빌드 속도 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |
| HMR 속도 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 설정 간편성 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 번들 크기 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |

**근거**:
1. 빠른 개발: HMR 즉각 반영 (CRA의 10배 빠름)
2. 최신 기술: ES Modules, esbuild
3. Vercel 최적화: Vercel이 Vite 공식 지원
4. 설정 최소: Zero-config로 바로 시작

**실제 성능**:
```
npm run dev: 214ms (개발일지_003 기록)
CRA: 약 3-5초
```

---

### 1.4 Tailwind CSS 4.1.15

**선택 이유**:

| 기준 | Tailwind | styled-components | CSS Modules | Bootstrap |
|------|----------|------------------|-------------|-----------|
| 개발 속도 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 번들 크기 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ |
| 커스터마이징 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |
| 일관성 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |

**근거**:
1. 빠른 개발: 클래스명만으로 스타일링
2. 일관성: 디자인 시스템 자동 적용
3. PurgeCSS: 사용하지 않는 스타일 자동 제거
4. 반응형: `md:`, `lg:` 등 간단한 breakpoint

**설정**:
```javascript
// tailwind.config.js
theme: {
  extend: {
    fontFamily: {
      sans: ['Pretendard', '-apple-system', 'BlinkMacSystemFont', 'system-ui'],
    },
    colors: {
      primary: { /* 파란색 계열 */ }
    }
  }
}
```

---

## 2. 백엔드 (BaaS)

### 2.1 Supabase

**선택 이유**:

| 기준 | Supabase | Firebase | AWS Amplify | Railway + 직접 구현 |
|------|----------|----------|-------------|------------------|
| 데이터베이스 | PostgreSQL | NoSQL | DynamoDB | PostgreSQL |
| 인증 | ✅ OAuth | ✅ OAuth | ✅ OAuth | ❌ 직접 구현 |
| 파일 저장소 | ✅ 2GB | ✅ 5GB | ✅ 5GB | ❌ 별도 서비스 |
| 실시간 | ✅ | ✅ | ✅ | ❌ |
| SQL 사용 | ✅ | ❌ | 제한적 | ✅ |
| 비용 | $0 | $0 | $0 | $5+ |
| RLS | ✅ | ✅ | ✅ | ⚠️ 직접 구현 |

**근거**:
1. PostgreSQL: 관계형 DB 필요 (places 테이블)
2. 통합 솔루션: Auth + Storage + Database 한 곳에서
3. 무료: $0/월 (500MB DB, 2GB Storage)
4. SQL 직접 사용: 복잡한 쿼리 가능
5. Row Level Security: 데이터베이스 레벨 보안

**Firebase 미선택 이유**:
```
NoSQL (Firestore):
- 복잡한 필터링 어려움
- JOIN 없음
- 배열 검색 제한적

현재 요구사항:
- 복합 필터링 (카테고리 + 방문상태 + 지역)
- 키워드 배열 검색 (keywords && ARRAY['한식'])
- 우선순위 정렬

→ PostgreSQL이 적합
```

---

### 2.2 Supabase PostgreSQL 15

**선택 이유**:

| 기준 | PostgreSQL | MySQL | MongoDB |
|------|-----------|-------|---------|
| 관계형 | ✅ | ✅ | ❌ |
| 배열 타입 | ✅ TEXT[] | ❌ | ✅ |
| JSONB | ✅ | ⚠️ 제한적 | ✅ |
| Full-text | ✅ | ⚠️ 제한적 | ✅ |
| CHECK 제약 | ✅ | ✅ | ❌ |

**근거**:
1. 배열 지원: `keywords TEXT[]` (MySQL 불가)
2. GIN 인덱스: 배열 검색 최적화
3. CHECK 제약조건: 카테고리 검증 (DB 레벨)
4. Supabase 기본: PostgreSQL 15

---

### 2.3 Supabase Auth (OAuth)

**선택 이유**:

| 기준 | Supabase Auth | Firebase Auth | Auth0 | 직접 구현 |
|------|--------------|--------------|-------|----------|
| 구현 난이도 | 낮음 | 낮음 | 중간 | 높음 |
| Google OAuth | ✅ 내장 | ✅ 내장 | ✅ 내장 | ⚠️ 복잡 |
| JWT | ✅ 자동 | ✅ 자동 | ✅ 자동 | ⚠️ 수동 |
| RLS 연동 | ✅ auth.uid() | ❌ | ❌ | ⚠️ 복잡 |
| 비용 | $0 | $0 | $0 (제한) | $0 |

**근거**:
1. Supabase 통합: PostgreSQL과 자동 연동 (`auth.uid()`)
2. RLS 연동: `auth.uid() = user_id`로 간단한 보안
3. JWT 자동 관리: 리프레시 토큰 자동 처리

---

### 2.4 Supabase Storage

**선택 이유**:

| 기준 | Supabase Storage | AWS S3 | Cloudinary | Imgur |
|------|-----------------|--------|-----------|-------|
| 무료 용량 | 2GB | 5GB | 25GB | 무제한 |
| 이미지 변환 | ❌ | ❌ | ✅ | ✅ |
| Supabase 통합 | ✅ | ❌ | ❌ | ❌ |
| RLS 지원 | ✅ | ⚠️ IAM | ❌ | ❌ |
| 비용 | $0 | $0 | $0 (제한) | $0 |

**근거**:
1. Supabase 통합: 단일 플랫폼
2. RLS 지원: 업로드 권한 제어
3. 충분한 용량: 2GB (이미지 400장 @ 5MB)

**Phase 2 검토**:
- Cloudinary: 이미지 자동 리사이징 (썸네일 생성)

---

## 3. 호스팅

### 3.1 Vercel

**선택 이유**:

| 기준 | Vercel | Netlify | GitHub Pages | AWS S3 |
|------|--------|---------|--------------|--------|
| 대역폭 | 100GB/월 | 100GB/월 | 무제한 | 종량제 |
| 빌드 시간 | 100분/월 | 300분/월 | N/A | N/A |
| Edge Network | ✅ 글로벌 | ✅ 글로벌 | ❌ 제한 | ⚠️ CloudFront |
| Vite 최적화 | ✅ | ⚠️ | ❌ | ❌ |
| Preview URL | ✅ | ✅ | ❌ | ❌ |
| 비용 | $0 | $0 | $0 | 종량제 |

**근거**:
1. Vite 최적화: Vercel이 Vite 공식 지원
2. 자동 배포: GitHub push 시 자동 배포
3. Preview URL: PR마다 임시 URL 생성
4. Edge Network: 전 세계 빠른 응답

**Netlify 미선택 이유**:
```
Netlify도 좋지만:
- Vercel이 Vite 개발사 (최적화 유리)
- 빌드 시간 Netlify가 더 많지만, 현재 충분함 (100분)
```

---

## 4. 라이브러리

### 4.1 TanStack Query v5.90.5

**선택 이유**:

| 기준 | TanStack Query | SWR | Apollo Client | 직접 구현 |
|------|---------------|-----|---------------|----------|
| 서버 상태 관리 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| 캐싱 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⚠️ 복잡 |
| Mutation | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⚠️ 복잡 |
| GraphQL | ⚠️ 가능 | ⚠️ 가능 | ✅ 전용 | ❌ |
| 번들 크기 | 중간 | 작음 | 큼 | 0 |

**근거**:
1. 자동 캐싱: 5분간 캐시, 자동 리페칭
2. Mutation: `onSuccess`에서 자동 `invalidateQueries`
3. 로딩/에러 상태: `isLoading`, `error` 자동 관리
4. DevTools: 캐시 상태 시각화

**SWR 미선택 이유**:
```
SWR도 좋지만:
- Mutation 기능이 약함 (useSWRMutation 별도)
- TanStack Query가 더 강력한 캐싱 전략
```

---

### 4.2 React Router v7.9.4

**선택 이유**:

| 기준 | React Router | TanStack Router | Wouter |
|------|-------------|----------------|--------|
| 성숙도 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |
| 타입 안정성 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| 생태계 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐ |
| 번들 크기 | 중간 | 중간 | 작음 |

**근거**:
1. 표준: React 라우터의 사실상 표준
2. 생태계: 예제, 튜토리얼 풍부
3. v7 기능: Loader, Action 등 데이터 로딩 통합

---

### 4.3 React Hook Form v7.65.0

**선택 이유**:

| 기준 | React Hook Form | Formik | 직접 구현 |
|------|----------------|--------|----------|
| 성능 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| 번들 크기 | 작음 | 큼 | 0 |
| 검증 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⚠️ 복잡 |
| 타입 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |

**근거**:
1. 성능: 비제어 컴포넌트 (리렌더링 최소화)
2. 작은 번들: 9KB (Formik 20KB)
3. 타입스크립트: 완벽한 타입 추론

---

### 4.4 Lucide React v0.546.0

**선택 이유**:

| 기준 | Lucide | React Icons | Heroicons | FontAwesome |
|------|--------|------------|-----------|-------------|
| 번들 크기 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| 아이콘 수 | 1000+ | 20000+ | 200+ | 7000+ |
| 일관성 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| Tree-shaking | ✅ | ⚠️ | ✅ | ❌ |

**근거**:
1. Tree-shaking: 사용한 아이콘만 번들에 포함
2. 일관성: 단일 디자인 시스템
3. 충분한 수: 필요한 아이콘 모두 있음

---

### 4.5 Framer Motion v12.23.24

**선택 이유**:

| 기준 | Framer Motion | React Spring | CSS Transitions |
|------|--------------|--------------|----------------|
| 사용 편의성 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |
| 번들 크기 | 큼 | 중간 | 0 |
| 기능 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ |

**Phase 1**: 설치만 (사용 안 함)
**Phase 2**: 애니메이션 추가 시 사용

---

## 5. 개발 도구

### 5.1 ESLint 9.36.0

**설정**: Vite 기본 설정 사용

**규칙**:
```javascript
{
  "react-hooks/exhaustive-deps": "warn",
  "@typescript-eslint/no-unused-vars": "error"
}
```

---

### 5.2 Git

**버전 관리**: Git + GitHub

**커밋 규칙**:
```
feat: 새 기능
fix: 버그 수정
docs: 문서
style: 포맷팅
refactor: 리팩토링
test: 테스트
chore: 빌드 설정
```

---

## 6. 제외된 기술

### 6.1 제외: Redux

**이유**:
```
Redux 특징:
- 보일러플레이트 많음
- 작은 프로젝트에는 과도함

현재 상태:
- 서버 상태: TanStack Query
- 클라이언트 상태: React Context (인증만)
- 충분함
```

---

### 6.2 제외: GraphQL

**이유**:
```
GraphQL 장점:
- 필요한 필드만 요청
- 타입 시스템

현재 상황:
- Supabase는 PostgreSQL (REST API)
- GraphQL 설정 복잡
- 현재 REST로 충분
```

---

### 6.3 제외: Jest / Testing Library

**이유**:
```
Phase 1: 테스트 제외 (빠른 구현 우선)
Phase 2: 테스트 추가 검토
```

---

## 7. 버전 고정 정책

### 7.1 package.json

```json
{
  "dependencies": {
    "@supabase/supabase-js": "^2.76.1",
    "@tanstack/react-query": "^5.90.5",
    "react": "^19.1.1",
    "react-dom": "^19.1.1",
    "react-hook-form": "^7.65.0",
    "react-router-dom": "^7.9.4",
    "lucide-react": "^0.546.0",
    "framer-motion": "^12.23.24"
  },
  "devDependencies": {
    "tailwindcss": "^4.1.15",
    "typescript": "~5.9.3",
    "vite": "^7.1.7"
  }
}
```

### 7.2 버전 정책

```
^ (캐럿): Minor 버전 자동 업데이트
  ^2.76.1 → 2.x.x (3.0.0 미만)

~ (틸드): Patch 버전만 자동 업데이트
  ~5.9.3 → 5.9.x (5.10.0 미만)

특정 버전: 고정
  5.9.3 → 5.9.3만
```

---

## 8. 변경 이력

| 날짜 | 변경 | 내용 | 작성자 |
|------|------|------|--------|
| 2025-01-XX | 초기 작성 | 모든 기술 스택 확정 | sungmoon2 |

---

**모든 기술 선택에는 이유가 있습니다.**
**대안을 검토했으며, 현재 선택이 최적임을 확인했습니다.**
